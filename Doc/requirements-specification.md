# 撮影スタジオ予約管理アプリケーション 要件定義書

## 1. はじめに

### 1.1 目的
本ドキュメントは、撮影スタジオ専用の予約管理アプリケーションの要件を定義するものである。このアプリケーションは、スタジオ管理者の予約管理業務を効率化し、利用者の予約プロセスを簡素化することを目的としている。

### 1.2 背景
現状、スタジオの予約は Web サイトからの予約フォーム入力を受け、手動での予約承認と連絡を行っている。予約管理には Google カレンダーを使用し、通知も手動で行っている。このプロセスを自動化・効率化するためのアプリケーション開発が求められている。

### 1.3 対象範囲
- 予約管理システム
- ユーザー管理システム
- 通知システム
- 統計・レポート機能

## 2. 利用者定義

### 2.1 管理者
- スタジオを運営する者
- 予約の承認、拒否、管理を行う
- 利用者情報の管理を行う

### 2.2 利用者
- スタジオの利用を希望する者
- 予約の申請、変更、キャンセルを行う

## 3. 機能要件

### 3.1 認証・アカウント管理
1. **ユーザー登録・ログイン機能**
   - メールアドレス/パスワードによる認証
   - パスワードリセット機能
   
2. **ユーザープロフィール管理**
   - 個人情報（氏名、住所、連絡先）
   - 予約履歴
   - 利用統計（累計利用時間など）

### 3.2 予約システム
3. **カレンダー表示機能**
   - 月間/週間/日間ビュー
   - 空き状況の視覚的表示（空き/仮予約/本予約）
   - 時間枠での予約管理

4. **予約タイプ**
   - **仮予約**
     - キャンセル料なし
     - 利用日7日前の夕方18:00までに予約確定の連絡が必要
     - 確定連絡がない場合は自動的にキャンセル扱い
     - 仮予約中に他者から本予約の申し込みがあった場合、確認連絡を行う
   - **本予約**
     - キャンセル料発生対象
     - 利用日6日前から当日まで

5. **予約申請フロー**
   - 日時選択
   - 予約タイプ選択（仮予約/本予約）
   - オプション選択
   - 利用目的入力
   - 利用人数入力
   - 利用規約確認と同意
   - 申請送信

6. **予約管理機能**
   - 予約一覧表示
   - 予約詳細表示
     - プライバシー保護機能（自分の予約 vs 他人の予約での表示制御）
     - 自分の予約: 全詳細情報表示（個人情報、料金、履歴、アクション）
     - 他人の予約: 最小限情報のみ表示（時間帯、予約種別のみ）
     - キャンセルポリシーの詳細表示
     - 予約履歴の表示
   - ステータス管理（申請中/承認済/拒否/キャンセル）
   - 変更・キャンセル機能
     - インライン操作（詳細画面からの直接実行）
     - 権限制御（本人のみ操作可能）
     - キャンセル料の事前計算・表示

7. **キャンセルポリシー**
   - 利用日6日前〜4日前: 予約時間分の利用料の50%
   - 利用日3日前〜前日: 予約時間分の利用料の80%
   - 利用日当日: 予約時間分の利用料の100%

### 3.3 オプションサービス
8. **オプション選択**
   - LEDライト: 1回の利用につき1,000円
   - 背景紙: 2,300円/m

### 3.4 通知システム
9. **自動通知機能**
   - 予約申請時の通知（管理者向け）
   - 予約承認/拒否時の通知（利用者向け）
   - 仮予約期限通知（利用日10日前、8日前）
   - 仮予約期限切れ自動キャンセル通知
   - 本予約前日のリマインダー
   - 仮予約中の本予約競合通知

10. **通知チャネル**
    - Eメール通知（MVP）
    - アプリ内通知（将来拡張）

### 3.5 管理機能
11. **管理者ダッシュボード**
    - 予約状況の可視化（日別/週別/月別）
    - 承認待ち予約リスト
    - 統計情報サマリー

12. **予約承認システム**
    - 承認/拒否機能
    - 条件付き承認

13. **統計・レポート**
    - ユーザー別利用時間集計
    - 予約状況の統計
    - キャンセル率の算出

14. **利用規約管理**
    - 規約の閲覧
    - 規約の更新・履歴管理
    - 利用者の同意状況確認

## 4. 非機能要件

### 4.1 パフォーマンス
- ページロード時間: 2秒以内
- カレンダー描画: 1.5秒以内
- 予約処理: 3秒以内
- 同時接続ユーザー: 最低50人

### 4.2 セキュリティ
- データ暗号化（保存時/転送時）
- CSRF/XSS対策
- 入力バリデーション
- レート制限（API保護）
- 監査ログ

### 4.3 可用性
- サービス稼働率: 99.5%以上
- 計画メンテナンス時以外のダウンタイムなし
- バックアップ: 日次

### 4.4 保守性
- ログ収集・モニタリング
- 自動テスト（単体/統合/E2E）
- 環境分離（開発/ステージング/本番）
- ドキュメント整備

### 4.5 拡張性
- 複数スタジオ対応（将来拡張）
- オンライン決済機能（将来拡張）
- モバイルアプリ対応（将来拡張）

## 5. 制約事項

### 5.1 技術制約
- フロントエンド: TypeScript必須
- バックエンド: Golang または Python 推奨
- クラウド環境: AWS または GCP

### 5.2 対応ブラウザ
- Google Chrome 最新版
- Safari 最新版
- Firefox 最新版
- Microsoft Edge 最新版

## 6. 想定ユーザー数

- アプリ利用頻度: 1日約20ユーザー
- 利用者の利用頻度: 夕方から夜にかけてが多い
- 同時アクセスユーザー: 最大10〜15人程度

## 7. KPI/成功指標

1. **予約業務効率化**
   - 予約処理時間の50%削減
   - 手動連絡作業の80%削減

2. **ユーザーエンゲージメント**
   - 月間アクティブユーザー率 80%以上
   - アプリ経由の予約率 90%以上

3. **ビジネス指標**
   - キャンセル率の10%削減
   - 利用者のリピート率10%向上
   - オプションサービスの売上15%向上

## 8. 開発フェーズとスケジュール

### 8.1 フェーズ1: MVP (12週間)
- 基本認証システム
- 予約カレンダー表示
- 基本予約フロー (仮予約/本予約)
- シンプルな管理者ダッシュボード
- 基本的なメール通知
- レスポンシブWebデザイン
- オプション選択機能
- キャンセルポリシー実装

### 8.2 フェーズ2: フィードバック対応・改善（6週間）
- MVPテストフィードバック収集
- UI/UX改善
- パフォーマンス最適化

### 8.3 フェーズ3: 拡張機能（8週間）
- 詳細レポート機能
- オンライン決済機能
